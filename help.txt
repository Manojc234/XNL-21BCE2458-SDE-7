package com.sc.faas.service;

import com.sc.faas.API.Xapi;
import com.sc.faas.dto.Form;
import com.sc.faas.dto.MyObject;
import com.sc.faas.dto.SubmitResponse;
import jakarta.enterprise.context.ApplicationScoped;
import jakarta.inject.Inject;
import org.eclipse.microprofile.rest.client.inject.RestClient;

@ApplicationScoped
public class MutationService {
    @Inject
    @RestClient
    Xapi Xapi;

    public SubmitResponse submitForm(Form form)
    {
        return Xapi.submit(form);
    }

    public MyObject updateObject(Long id, String name) {
        return new MyObject(id, name);
    }
}
package com.sc.faas.API;

import com.sc.faas.dto.Form;
import com.sc.faas.dto.SubmitResponse;
import jakarta.ws.rs.Consumes;
import jakarta.ws.rs.POST;
import jakarta.ws.rs.Path;
import jakarta.ws.rs.Produces;
import jakarta.ws.rs.core.MediaType;
import org.eclipse.microprofile.rest.client.inject.RegisterRestClient;
@Path("/submit")
@RegisterRestClient
public interface Xapi {

    @POST
    @Consumes(MediaType.APPLICATION_JSON)
    @Produces(MediaType.APPLICATION_JSON)
    SubmitResponse submit(Form dto);
}
quarkus.http.port=8080
quarkus.http.host=0.0.0.0
quarkus.grpc.dev-mode.force-server-start=false
quarkus.otel.enabled=false
quarkus.rest-client."com.sc.faas.client.ExpClient".url=http://localhost:8081
devkit.federated.supported.packages=com.sc.faas,com.sc.devkit

{
    "extensions": null,
    "data": null,
    "errors": [
        {
            "message": "Error injecting com.sc.faas.API.Xapi com.sc.faas.service.MutationService.Xapi",
            "locations": [
                {
                    "line": 2,
                    "column": 5,
                    "sourceName": null
                }
            ],
            "errorType": "DataFetchingException",
            "path": [
                "submitForm"
            ],
            "extensions": null
        }
    ],
    "dataPresent": true
}
